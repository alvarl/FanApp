#{extends 'main.html' /}
#{set 'title'}&{'secure.title'}#{/set}

<div class="wide">
  #{if flash['authError']}
    <div class="alert-message block-message error">
      <a class="close" href="#">Ã—</a>
      &{flash['authError']}
      <div class="alert-actions">
        <a class="btn small" href="@{Application.resendActivationKey(flash.username)}">&{'secure.resendActivationKey'}</a>
      </div>
    </div>
  #{/if}
  #{elseif flash.error}
    <div class="alert-message error">
      &{flash.error}
    </div>
  #{/elseif}
  #{if flash.success}
    <div class="alert-message success">
      &{flash.success}
    </div>
  #{/if}
</div>

<div class="span3">

#{form @authenticate()}
  <fieldset>
    <div class="clearfix">
      <label for="username">&{'secure.username'}</label>
      <div class="input"><input type="text" name="username" id="username" value="${flash.username}" /></div>
    </div>
    <div class="clearfix">
      <label for="password">&{'secure.password'}</label>
      <div class="input"><input type="password" name="password" id="password" value="" /></div>
    </div>
    <div class="clearfix">
      <div class="input">
        <input type="submit" id="signin" class="btn primary" value="&{'secure.signin'}" /> <span class="pull-right"><input type="checkbox" name="remember" id="remember" value="true" ${flash.remember ? 'checked="true"' : ''} /> <label class="no-float" for="remember">&{'secure.remember'}</label></span>
      </div>
    </div>
  </fieldset>
#{/form}
</div>